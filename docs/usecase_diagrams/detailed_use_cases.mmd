graph TB
    %% Primary Actors
    Patient[ğŸ‘¤ Patient]
    Doctor[ğŸ‘¨âš•ï¸ Healthcare Provider]
    
    %% Secondary Actors
    AISystem[ğŸ¤– AI RAG System]
    Database[(ğŸ’¾ Database)]
    ExternalAPI[ğŸŒ External APIs]
    
    %% Core Use Cases with Details
    subgraph Core["ğŸ¯ Core Health Management"]
        UC1["ğŸ“ Create Health Record<br/>â€¢ SOCRATES framework<br/>â€¢ Vital signs entry<br/>â€¢ Medication logging"]
        UC2["ğŸ“Š Analyze Symptoms<br/>â€¢ AI-powered analysis<br/>â€¢ Pattern recognition<br/>â€¢ Risk assessment"]
        UC3["ğŸ“ˆ Track Health Trends<br/>â€¢ Historical analysis<br/>â€¢ Progress monitoring<br/>â€¢ Trend visualization"]
        UC4["ğŸ” Search Health Data<br/>â€¢ Symptom search<br/>â€¢ Date range filtering<br/>â€¢ Severity filtering"]
    end
    
    %% Authentication & Security
    subgraph Auth["ğŸ” Security & Access"]
        UC5["ğŸ”‘ User Authentication<br/>â€¢ JWT token auth<br/>â€¢ Session management<br/>â€¢ Password security"]
        UC6["ğŸ‘¥ Role Management<br/>â€¢ Patient access<br/>â€¢ Provider access<br/>â€¢ Admin functions"]
    end
    
    %% AI & Analytics
    subgraph AI["ğŸ§  AI & Analytics"]
        UC7["ğŸ¤– Generate AI Insights<br/>â€¢ Vector similarity search<br/>â€¢ LLM analysis<br/>â€¢ Medical guidelines"]
        UC8["ğŸ“‹ Clinical Assessment<br/>â€¢ SOCRATES evaluation<br/>â€¢ Risk stratification<br/>â€¢ Recommendations"]
        UC9["ğŸ”„ Data Synchronization<br/>â€¢ PostgreSQL to MongoDB<br/>â€¢ Vector embeddings<br/>â€¢ Real-time sync"]
    end
    
    %% Healthcare Provider Functions
    subgraph Provider["ğŸ‘¨âš•ï¸ Provider Tools"]
        UC10["ğŸ“‹ Review Patient Data<br/>â€¢ Comprehensive view<br/>â€¢ Historical records<br/>â€¢ AI insights"]
        UC11["ğŸ“Š Generate Reports<br/>â€¢ Medical summaries<br/>â€¢ Trend analysis<br/>â€¢ Export functionality"]
        UC12["âš ï¸ Monitor Alerts<br/>â€¢ Red flag detection<br/>â€¢ Critical symptoms<br/>â€¢ Urgent notifications"]
    end
    
    %% Mobile & Web Access
    subgraph Access["ğŸ“± Multi-Platform Access"]
        UC13["ğŸ’» Web Application<br/>â€¢ Desktop interface<br/>â€¢ Full functionality<br/>â€¢ Responsive design"]
        UC14["ğŸ“± Mobile Application<br/>â€¢ On-the-go tracking<br/>â€¢ Quick symptom entry<br/>â€¢ Push notifications"]
    end
    
    %% Relationships - Patient
    Patient --> UC1
    Patient --> UC2
    Patient --> UC3
    Patient --> UC4
    Patient --> UC5
    Patient --> UC13
    Patient --> UC14
    
    %% Relationships - Healthcare Provider
    Doctor --> UC5
    Doctor --> UC6
    Doctor --> UC10
    Doctor --> UC11
    Doctor --> UC12
    Doctor --> UC13
    
    %% Relationships - AI System
    AISystem --> UC7
    AISystem --> UC8
    AISystem --> UC9
    
    %% System Dependencies
    UC1 --> Database
    UC2 --> AISystem
    UC3 --> Database
    UC7 --> ExternalAPI
    UC9 --> Database
    
    %% Include/Extend Relationships
    UC2 -.->|includes| UC7
    UC2 -.->|includes| UC8
    UC10 -.->|includes| UC3
    UC11 -.->|extends| UC10
    UC12 -.->|extends| UC8
    
    %% Styling
    classDef primaryActor fill:#e3f2fd,stroke:#1976d2,stroke-width:3px
    classDef secondaryActor fill:#fff3e0,stroke:#f57c00,stroke-width:2px
    classDef coreUseCase fill:#e8f5e8,stroke:#388e3c,stroke-width:2px
    classDef authUseCase fill:#fce4ec,stroke:#c2185b,stroke-width:2px
    classDef aiUseCase fill:#f3e5f5,stroke:#7b1fa2,stroke-width:2px
    classDef providerUseCase fill:#e0f2f1,stroke:#00695c,stroke-width:2px
    classDef accessUseCase fill:#fff8e1,stroke:#ff8f00,stroke-width:2px
    
    class Patient,Doctor primaryActor
    class AISystem,Database,ExternalAPI secondaryActor
    class UC1,UC2,UC3,UC4 coreUseCase
    class UC5,UC6 authUseCase
    class UC7,UC8,UC9 aiUseCase
    class UC10,UC11,UC12 providerUseCase
    class UC13,UC14 accessUseCase